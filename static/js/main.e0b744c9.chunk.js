(this["webpackJsonpvaccine-eta"]=this["webpackJsonpvaccine-eta"]||[]).push([[0],{48:function(e,n,t){},74:function(e,n,t){"use strict";t.r(n);var a,r,c,o,i,m,d,l,s,b,u,h,j,g,v,f,p,x=t(0),O=t.n(x),w=t(38),y=t.n(w),k=(t(48),t(22)),C=t(26),N=t(23),S=t.n(N),T=t(39),M=t(8),P=t(9),I=t(3),A=t(4),D=A.a.div(a||(a=Object(I.a)(["\n  display: grid;\n  grid-template-rows: auto;\n  grid-template-columns: repeat(",", fit-content(25%));\n  /* gap: 0.2rem; */\n"])),(function(e){return e.cols})),L=A.a.div(r||(r=Object(I.a)(["\n  position: absolute;\n  right: 0;\n  top: 10%;\n  color: #4a4e60;\n"]))),E=A.a.div(c||(c=Object(I.a)(["\n  padding: 0.5rem;\n  padding-left: 0.4rem;\n  padding-right: 0.7rem;\n  transition: color 0.3s ease-in-out;\n  color: ",";\n  font-size: 11pt;\n  position: relative;\n\n  &:first-child {\n    position: sticky;\n    left: 0;\n    color: #000000;\n    background-color: #fff;\n    z-index: 3;\n    border-top-left-radius: 10px;\n    border-bottom-left-radius: 10px;\n\n    @media (max-width: 600px) {\n      border-right: 1px solid #97979729;\n    }\n  }\n\n  &:last-child {\n    border-top-right-radius: 10px;\n    border-bottom-right-radius: 10px;\n  }\n"])),(function(e){return e.textColor||"#5b5c68"})),H=A.a.div(o||(o=Object(I.a)(["\n  display: contents;\n\n  "," {\n    ","\n\n    ","\n  }\n"])),E,(function(e){return e.showCursor&&"cursor: pointer;"}),(function(e){return e.header&&"\n      background-color: #f9f9fb;\n      color: #787a8a;\n      display: flex;\n      align-items: center;\n      cursor: pointer;\n\n      &:hover {\n        background-color: #f4f4f4;\n      }\n    "})),z=t(1),J=function(e){var n=e.data,t=e.firstChild,a=e.sort,r=e.onClick;return Object(z.jsxs)(E,{firstChild:t,textColor:n.color,role:"button",onClick:function(e){null===r||void 0===r||r(n.text)},children:[Object(z.jsx)("span",{children:n.text}),Object(z.jsx)(L,{children:a&&("asc"===a?" \u2191":" \u2193")})]})},R=function(e){var n=e.row,t=e.header,a=e.handleSort,r=e.onClick,c=Object(x.useState)(),o=Object(P.a)(c,2),i=o[0],m=o[1],d=Object(x.useState)(),l=Object(P.a)(d,2),s=l[0],b=l[1];return Object(z.jsx)(H,{header:t,onClick:function(){null===r||void 0===r||r(n[0].value)},showCursor:!!r,children:n.map((function(e,n){var t=Object(M.a)(Object(M.a)({data:e,key:n,onClick:function(e){return function(e,n){if(a){var t=n===s?function(e){return"asc"===e?"desc":"asc"}(i):"asc";a(e,t),m(t),b(n)}}(e,n)}},0===n&&{firstChild:!0}),s===n&&{sort:i});return Object(z.jsx)(J,Object(M.a)({},t))}))})},B=t(2),K=function(e){var n=e.heading,t=e.rows,a=e.handleSort,r=e.allowClick,c=Object(B.f)(),o=function(e){c.push("/".concat(e))};return Object(z.jsxs)(D,{cols:n.length.toString(),children:[Object(z.jsx)(R,{row:n,header:!0,handleSort:a}),t.map((function(e,n){return 0===n?Object(z.jsx)(R,{row:e},e[0].value):Object(z.jsx)(R,Object(M.a)({row:e},r&&{onClick:o}),e[0].value)}))]})},G=t(43),F=t.n(G),Y={AP:"Andhra Pradesh",AR:"Arunachal Pradesh",AS:"Assam",BR:"Bihar",CT:"Chhattisgarh",GA:"Goa",GJ:"Gujarat",HR:"Haryana",HP:"Himachal Pradesh",JH:"Jharkhand",KA:"Karnataka",KL:"Kerala",MP:"Madhya Pradesh",MH:"Maharashtra",MN:"Manipur",ML:"Meghalaya",MZ:"Mizoram",NL:"Nagaland",OR:"Odisha",PB:"Punjab",RJ:"Rajasthan",SK:"Sikkim",TN:"Tamil Nadu",TG:"Telangana",TR:"Tripura",UT:"Uttarakhand",UP:"Uttar Pradesh",WB:"West Bengal",AN:"Andaman and Nicobar Islands",CH:"Chandigarh",DN:"Dadra and Nagar Haveli and Daman and Diu",DL:"Delhi",JK:"Jammu and Kashmir",LA:"Ladakh",LD:"Lakshadweep",PY:"Puducherry",TT:"India"},U=Object(A.b)(i||(i=Object(I.a)(["\n  0%,\n  100% {\n    box-shadow: 0em -2.6em 0em 0em #9c9c9c, 1.8em -1.8em 0 0em rgba(156,156,156, 0.2), 2.5em 0em 0 0em rgba(156,156,156, 0.2), 1.75em 1.75em 0 0em rgba(156,156,156, 0.2), 0em 2.5em 0 0em rgba(156,156,156, 0.2), -1.8em 1.8em 0 0em rgba(156,156,156, 0.2), -2.6em 0em 0 0em rgba(156,156,156, 0.5), -1.8em -1.8em 0 0em rgba(156,156,156, 0.7);\n  }\n  12.5% {\n    box-shadow: 0em -2.6em 0em 0em rgba(156,156,156, 0.7), 1.8em -1.8em 0 0em #9c9c9c, 2.5em 0em 0 0em rgba(156,156,156, 0.2), 1.75em 1.75em 0 0em rgba(156,156,156, 0.2), 0em 2.5em 0 0em rgba(156,156,156, 0.2), -1.8em 1.8em 0 0em rgba(156,156,156, 0.2), -2.6em 0em 0 0em rgba(156,156,156, 0.2), -1.8em -1.8em 0 0em rgba(156,156,156, 0.5);\n  }\n  25% {\n    box-shadow: 0em -2.6em 0em 0em rgba(156,156,156, 0.5), 1.8em -1.8em 0 0em rgba(156,156,156, 0.7), 2.5em 0em 0 0em #9c9c9c, 1.75em 1.75em 0 0em rgba(156,156,156, 0.2), 0em 2.5em 0 0em rgba(156,156,156, 0.2), -1.8em 1.8em 0 0em rgba(156,156,156, 0.2), -2.6em 0em 0 0em rgba(156,156,156, 0.2), -1.8em -1.8em 0 0em rgba(156,156,156, 0.2);\n  }\n  37.5% {\n    box-shadow: 0em -2.6em 0em 0em rgba(156,156,156, 0.2), 1.8em -1.8em 0 0em rgba(156,156,156, 0.5), 2.5em 0em 0 0em rgba(156,156,156, 0.7), 1.75em 1.75em 0 0em #9c9c9c, 0em 2.5em 0 0em rgba(156,156,156, 0.2), -1.8em 1.8em 0 0em rgba(156,156,156, 0.2), -2.6em 0em 0 0em rgba(156,156,156, 0.2), -1.8em -1.8em 0 0em rgba(156,156,156, 0.2);\n  }\n  50% {\n    box-shadow: 0em -2.6em 0em 0em rgba(156,156,156, 0.2), 1.8em -1.8em 0 0em rgba(156,156,156, 0.2), 2.5em 0em 0 0em rgba(156,156,156, 0.5), 1.75em 1.75em 0 0em rgba(156,156,156, 0.7), 0em 2.5em 0 0em #9c9c9c, -1.8em 1.8em 0 0em rgba(156,156,156, 0.2), -2.6em 0em 0 0em rgba(156,156,156, 0.2), -1.8em -1.8em 0 0em rgba(156,156,156, 0.2);\n  }\n  62.5% {\n    box-shadow: 0em -2.6em 0em 0em rgba(156,156,156, 0.2), 1.8em -1.8em 0 0em rgba(156,156,156, 0.2), 2.5em 0em 0 0em rgba(156,156,156, 0.2), 1.75em 1.75em 0 0em rgba(156,156,156, 0.5), 0em 2.5em 0 0em rgba(156,156,156, 0.7), -1.8em 1.8em 0 0em #9c9c9c, -2.6em 0em 0 0em rgba(156,156,156, 0.2), -1.8em -1.8em 0 0em rgba(156,156,156, 0.2);\n  }\n  75% {\n    box-shadow: 0em -2.6em 0em 0em rgba(156,156,156, 0.2), 1.8em -1.8em 0 0em rgba(156,156,156, 0.2), 2.5em 0em 0 0em rgba(156,156,156, 0.2), 1.75em 1.75em 0 0em rgba(156,156,156, 0.2), 0em 2.5em 0 0em rgba(156,156,156, 0.5), -1.8em 1.8em 0 0em rgba(156,156,156, 0.7), -2.6em 0em 0 0em #9c9c9c, -1.8em -1.8em 0 0em rgba(156,156,156, 0.2);\n  }\n  87.5% {\n    box-shadow: 0em -2.6em 0em 0em rgba(156,156,156, 0.2), 1.8em -1.8em 0 0em rgba(156,156,156, 0.2), 2.5em 0em 0 0em rgba(156,156,156, 0.2), 1.75em 1.75em 0 0em rgba(156,156,156, 0.2), 0em 2.5em 0 0em rgba(156,156,156, 0.2), -1.8em 1.8em 0 0em rgba(156,156,156, 0.5), -2.6em 0em 0 0em rgba(156,156,156, 0.7), -1.8em -1.8em 0 0em #9c9c9c;\n  }\n"]))),W=A.a.div(m||(m=Object(I.a)(["\n  margin: 100px auto;\n  font-size: 25px;\n  width: 1em;\n  height: 1em;\n  border-radius: 50%;\n  position: relative;\n  text-indent: -9999em;\n  animation: "," 1.1s infinite ease;\n  transform: translateZ(0);\n"])),U),V=function(){return Object(z.jsx)(W,{})},_=function(e,n,t){return"".concat(function(e,n){var t=new RegExp("(\\d+\\.\\d{"+n+"})(\\d)"),a=e.toString().match(t);return a?parseFloat(a[1]):e.valueOf()}(e/n,2)," ").concat(t)},Z=function(e){if(!isNaN(e))return e>=1e9?"Infinity":e/1e7>1?_(e,1e7,"Cr"):e/1e5>1?_(e,1e5,"Lakh"):Math.round(e).toLocaleString("en-IN")},q=t(10),Q=t.n(q),X=A.a.footer(d||(d=Object(I.a)(["\n  padding: 2rem 0.5rem;\n  color: #8b9095;\n  font-size: 10pt;\n  text-align: center;\n"]))),$=A.a.div(l||(l=Object(I.a)(["\n  padding-bottom: 0.2rem;\n"]))),ee=A.a.a(s||(s=Object(I.a)(["\n  color: inherit;\n"]))),ne=function(){return Object(z.jsxs)(X,{children:[Object(z.jsxs)($,{children:[Object(z.jsx)("span",{children:"The data is provided by "}),Object(z.jsx)(ee,{href:"https://api.covid19india.org/",target:"_blank",children:"https://api.covid19india.org/"})]}),Object(z.jsxs)($,{children:[Object(z.jsx)("span",{children:"Check the source code at "}),Object(z.jsx)(ee,{href:"https://github.com/il3ven/ETA-for-vaccination",target:"_blank",children:"GitHub"}),Object(z.jsx)("span",{children:" or "}),Object(z.jsx)(ee,{href:"mailto:8e023sxup@relay.firefox.com",target:"_blank",children:"Email us"})]})]})},te=A.a.div(b||(b=Object(I.a)(["\n  margin: 0 auto;\n  overflow: auto;\n\n  @media (min-width: 800px) {\n    max-width: 700px;\n  }\n"]))),ae=A.a.header(u||(u=Object(I.a)(["\n  margin: 0 auto;\n  max-width: 900px;\n  padding: 0 1rem;\n"]))),re=A.a.h1(h||(h=Object(I.a)(["\n  font-size: 18pt;\n  color: #483b3b;\n  padding-bottom: 2rem;\n  font-weight: 500;\n\n  @media (min-width: 800px) {\n    font-size: 24pt;\n  }\n"]))),ce=A.a.div(j||(j=Object(I.a)(["\n  max-width: 700px;\n"]))),oe=A.a.div(g||(g=Object(I.a)(["\n  display: flex;\n  flex-flow: row wrap;\n  padding-bottom: 1rem;\n"]))),ie=A.a.div(v||(v=Object(I.a)(["\n  display: flex;\n  align-items: center;\n  padding-right: 1rem;\n  padding-bottom: 1rem;\n\n  .text {\n    font-size: 9pt;\n    max-width: 12rem;\n    color: #808080;\n  }\n"]))),me=A.a.div(f||(f=Object(I.a)(["\n  display: inline-block;\n  background: ",";\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  margin-right: 10px;\n"])),(function(e){return e.circleColor})),de=A.a.div(p||(p=Object(I.a)(["\n  padding-bottom: 1rem;\n"]))),le=[{text:"State",value:"1"},{text:"ETA for everyone to get vaccinated",value:"2"},{text:"ETA for 70% people to get vaccinated",value:"3"},{text:"Vaccines administered per day",value:"4"},{text:"Percentage of Population Vaccinated with Dose 1",value:"5"},{text:"Percentage of Population Vaccinated with Dose 2",value:"6"}],se=function(e,n,t){if(!parseInt(e)||!parseInt(n)||!parseInt(t))return{text:"-",days:0};var a=Math.round((Number(e)+Number(n))/7),r=Q()().add(2*parseInt(t)/a,"days"),c=Q()(),o=r.diff(c,"years");c.add(o,"years");var i=r.diff(c,"months");c.add(i,"months");var m=r.diff(c,"days"),d=Q()().to(r);return o>0&&i>0?d="".concat(o," ").concat(o>1?"years":"year"," and ").concat(i>1?"".concat(i," months"):"a month"):i>0&&m>0?d="".concat(i," ").concat(i>1?"months":"month"," and ").concat(m>1?"".concat(m," days"):"a day"):o>0?d="".concat(o," ").concat(o>1?"years":"year"):i>0?d="".concat(i," ").concat(i>1?"months":"month"):m>0&&(d="".concat(m," ").concat(m>1?"days":"day")),"a few seconds ago"===d&&console.log(d,r.format("DD-MM-YYYY"),t),{text:d,days:Math.round(2*parseInt(t)/a)}},be=function(e,n){return{text:Z(Math.round((Number(e)+Number(n))/7))||"-",value:(Math.round((Number(e)+Number(n))/7)||0).toString()}},ue=function(e,n){var t=Z(Math.round(Number(e)/Number(n)*100));return{text:"".concat(t?t+"%":"-"),value:(Math.round(Number(e)/Number(n)*100)||"0").toString()}};var he=function(){var e=Object(x.useState)(),n=Object(P.a)(e,2),t=n[0],a=n[1],r=Object(x.useState)(),c=Object(P.a)(r,2),o=c[0],i=c[1],m=Object(x.useState)([[]]),d=Object(P.a)(m,2),l=d[0],s=d[1],b=Object(x.useState)(!0),u=Object(P.a)(b,2),h=u[0],j=u[1],g=Object(x.useState)("2022-06-01"),v=Object(P.a)(g,2),f=v[0],p=v[1],O=Object(B.g)().code,w=Object(x.useCallback)((function(){var e,n,t,a,r,c,o,i,m,d,l,s,b,u,h,j,g,v,p,x,O,w,y,k,C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},N=arguments.length>1?arguments[1]:void 0,S=se(null===(e=C[N])||void 0===e||null===(n=e.delta7)||void 0===n?void 0:n.vaccinated1,null===(t=C[N])||void 0===t||null===(a=t.delta7)||void 0===a?void 0:a.vaccinated2,null===(r=C[N])||void 0===r||null===(c=r.meta)||void 0===c?void 0:c.population),T=se(null===(o=C[N])||void 0===o||null===(i=o.delta7)||void 0===i?void 0:i.vaccinated1,null===(m=C[N])||void 0===m||null===(d=m.delta7)||void 0===d?void 0:d.vaccinated2,(.7*parseInt(null===(l=C[N])||void 0===l||null===(s=l.meta)||void 0===s?void 0:s.population)).toString());return[{text:Y[N]||N,value:N},{text:S.text,value:S.days.toString(),color:"".concat(S.days-Q()(f).diff(Q()(),"days")>0?"#ea3b3b":"#1b8e1d")},{text:T.text,value:T.days.toString(),color:"".concat(T.days-Q()(f).diff(Q()(),"days")>0?"#ea3b3b":"#1b8e1d")},Object(M.a)({},be(null===(b=C[N])||void 0===b||null===(u=b.delta7)||void 0===u?void 0:u.vaccinated1,null===(h=C[N])||void 0===h||null===(j=h.delta7)||void 0===j?void 0:j.vaccinated2)),Object(M.a)({},ue(null===(g=C[N])||void 0===g||null===(v=g.total)||void 0===v?void 0:v.vaccinated1,null===(p=C[N])||void 0===p||null===(x=p.meta)||void 0===x?void 0:x.population)),Object(M.a)({},ue(null===(O=C[N])||void 0===O||null===(w=O.total)||void 0===w?void 0:w.vaccinated2,null===(y=C[N])||void 0===y||null===(k=y.meta)||void 0===k?void 0:k.population))]}),[f]);return Object(x.useEffect)((function(){(function(){var e=Object(T.a)(S.a.mark((function e(){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,F.a.get("https://raw.githubusercontent.com/covid19india/api/gh-pages/v4/min/data.min.json");case 3:n=e.sent.data,a(n),j(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(x.useEffect)((function(){var e;i(O?null===t||void 0===t||null===(e=t[O])||void 0===e?void 0:e.districts:t)}),[O,t]),Object(x.useEffect)((function(){j(!0);var e=O?Object.keys(o||{}).filter((function(e){return"TT"!==e})).map((function(e){return w(o,e)})):[w(o,"TT")].concat(Object(C.a)(Object.keys(o||{}).filter((function(e){return"TT"!==e})).map((function(e){return w(o,e)}))));s(e),j(!1)}),[o,w,O]),Object(z.jsxs)("div",{className:"App",children:[Object(z.jsxs)(ae,{children:[Object(z.jsx)(re,{children:"Will we be able to acheive our vaccination targets?"}),Object(z.jsxs)(ce,{children:[Object(z.jsxs)(de,{children:[Object(z.jsx)("span",{children:"Select the target date: "}),Object(z.jsx)("input",{type:"date",value:f,onChange:function(e){p(e.target.value)}})]}),Object(z.jsxs)(oe,{children:[Object(z.jsxs)(ie,{children:[Object(z.jsx)(me,{circleColor:"#ea3b3b"}),Object(z.jsx)("span",{className:"text",children:"Not possible to fully vaccinate people before the selected target"})]}),Object(z.jsxs)(ie,{children:[Object(z.jsx)(me,{circleColor:"#1b8e1d"}),Object(z.jsx)("span",{className:"text",children:"Will be able to meet target"})]})]})]})]}),h?Object(z.jsx)(V,{}):Object(z.jsx)(te,{children:Object(z.jsx)(K,{heading:le,rows:l,handleSort:function(e,n){console.log(e);for(var t=-1,a=0;a<le.length;a++)if(le[a].text===e){t=a;break}var r,c=void 0;if(O){r=Object(k.a)(l).slice(0)}else{var o=Object(k.a)(l);c=o[0],r=o.slice(1)}r.sort((function(e,a){var r=e[t].value,c=a[t].value;if(parseInt(r)&&parseInt(c))return"asc"===n?parseInt(r)-parseInt(c):parseInt(c)-parseInt(r);var o=0;return r>c?o=1:r<c&&(o=-1),"asc"===n?o:-1*o})),s(c?[c].concat(Object(C.a)(r)):r)},allowClick:!O})}),Object(z.jsx)(ne,{})]})},je=t(16),ge=function(){return Object(z.jsx)(je.a,{children:Object(z.jsxs)(B.c,{children:[Object(z.jsx)(B.a,{path:"/:code",children:Object(z.jsx)(he,{})}),Object(z.jsx)(B.a,{path:"/",children:Object(z.jsx)(he,{})})]})})},ve=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,75)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,c=n.getLCP,o=n.getTTFB;t(e),a(e),r(e),c(e),o(e)}))};y.a.render(Object(z.jsx)(O.a.StrictMode,{children:Object(z.jsx)(ge,{})}),document.getElementById("root")),ve()}},[[74,1,2]]]);
//# sourceMappingURL=main.e0b744c9.chunk.js.map